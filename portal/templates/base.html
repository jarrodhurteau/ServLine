<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}ServLine Portal{% endblock %}</title>

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              bg: '#0b1220',
              panel: '#111a2f',
              ink: '#e8eefc',
              muted: '#9fb0d1',
              line: '#1f2a44',
              brand: { 50: '#eaf2ff', 500: '#7aa2ff', 600: '#5a86f7' }
            },
            boxShadow: { card: '0 8px 24px rgba(0,0,0,.25)' },
            borderRadius: { xl: '14px' }
          }
        }
      }
    </script>

    <style>
      :root { --bg:#0b1220; --panel:#111a2f; --ink:#e8eefc; --muted:#9fb0d1; --line:#1f2a44; }
      * { box-sizing: border-box; }
      html,body { height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; background:var(--bg); color:var(--ink); }
      a { color:#b7cdfb; text-decoration:none; }
      a:hover { text-decoration:underline; }
      .nav { display:flex; gap:16px; align-items:center; padding:14px 18px; border-bottom:1px solid var(--line); background:#0d162b; position:sticky; top:0; }
      .brand { font-weight:700; letter-spacing:.3px; }
      .wrap { max-width:960px; margin:24px auto; padding:0 16px; }
      .card { background:var(--panel); border:1px solid var(--line); border-radius:14px; padding:18px; box-shadow:0 8px 24px rgba(0,0,0,.25); }
      .list { margin:0; padding:0; list-style:none; }
      .row { display:flex; align-items:center; justify-content:space-between; padding:12px 10px; border-bottom:1px dashed var(--line); }
      .row:last-child { border-bottom:none; }
      .crumbs { color:var(--muted); margin:0 0 10px; font-size:14px; }
      h1,h2 { margin:0 0 10px; }
      .muted { color:var(--muted); }
      .ml-auto { margin-left: auto; }

      /* Forms readability */
      select.form-select,
      input.form-control,
      textarea.form-control,
      select,
      input[type="text"],
      input[type="number"],
      input[type="email"],
      input[type="password"],
      textarea {
        color: #000 !important;
        background-color: #fff;
      }
      select.form-select option,
      select option {
        color: #000 !important;
        background-color: #fff;
      }
      input::placeholder, textarea::placeholder {
        color: #666;
        opacity: 1;
      }
    </style>
    {% block head %}{% endblock %}
  </head>
  <body class="bg-bg text-ink">
    <div class="nav">
      <div class="brand"><a href="/">ServLine Portal</a></div>
      <div><a href="/restaurants" class="hover:underline">Restaurants</a></div>
      <div><a href="/import" class="hover:underline">Import</a></div>
      <div><a href="/imports" class="hover:underline">Imports</a></div>
      <div><a href="/drafts" class="hover:underline">Drafts</a></div> <!-- NEW: drafts link -->

      <!-- Right-aligned auth controls -->
      <div class="ml-auto">
        {% if session.get('user') %}
          <form method="post" action="/logout" style="display:inline">
            <button class="bg-panel border border-line px-3 py-1 rounded-xl hover:underline">
              Logout
            </button>
          </form>
        {% else %}
          <a href="/login" class="hover:underline">Login</a>
        {% endif %}
      </div>
    </div>

    <div class="wrap">
      {% block content %}{% endblock %}
    </div>
  </body>
</html>
